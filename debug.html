<!DOCTYPE html>
<html>

<head>
  
  <meta property="og:title" content="Robinson News & Media" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://robinson.ac.nz/newsmedia/" />
    <meta property="og:site_name" content="Robinson Research Institute"/>
    <meta property="og:image" content="https://robinson.ac.nz/newsmedia/screenshot.jpg" />
    <meta property="og:description" content="View the Institute's news and media stories." />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="robinson.ac.nz" />    
    <meta name="twitter:title" content="Robinson News & Media" />
    <meta name="twitter:description" content="View the Institute's news and media stories." />  
    <meta name="twitter:image" content="https://robinson.ac.nz/newsmedia/screenshot.jpg" />
    
    
  
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
  
  
  <meta charset="utf-8">
  <title>Media & News</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="slideshow.css">
  <link rel="stylesheet" href="style3.css">
  <script src="slideshow3.js"></script>
  <!--<script type="text/javascript">
    window.addEventListener('load', function() {
       if (location.hash) location.href = location.hash;
    });
</script>-->

</head>

<body>
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v14.0"
    nonce="MQqLBwq2"></script>
  <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
  <div class="topnav" id=navbar>
     <div class="dropdown">
      <!--<button class="dropbtn">Dropdown
        <i class="fa fa-caret-down"></i>
      </button>-->
      <button class="dropbtn" onclick="location.href='https://robinson.ac.nz/home'"><img src="favicon-32x32.png" alt="HOME"></img>
      </button>
      <div class="dropdown-content">
        <a href="https://robinson.ac.nz/home">Home</a>
        <a href="https://robinson.ac.nz/newsmedia">News</a>
        <a href="https://robinson.ac.nz/research/brochure.html">Research</a>
        <a href="https://robinson.ac.nz/publications">Publications</a>
        <a href="https://robinson.ac.nz/publications/theses.html">Theses</a>
        <a href="https://robinson.ac.nz/conductors/">Superconductivity</a>
        <a href="https://robinson.ac.nz/hts-wire-database/">Wire Database</a>
        <a href="https://robinson.ac.nz/home#contact-page">Vacancies</a>
      </div>
    </div>  
    <!--<a href="https://robinson.ac.nz/home/" class="homeButton"><img src="favicon-32x32.png" alt="HOME"></img></a>-->
    <a id='2023' class="active" href="javascript_required.html" onclick="reload(this);return false;">2023</a>
    <a id='2022' href="javascript_required.html" onclick="reload(this);return false;">2022</a>
    <a id='2021' href="javascript_required.html" onclick="reload(this);return false;">2021</a>
    <a id='2020' href="javascript_required.html" onclick="reload(this);return false;">2020</a>
    <a id='2019' href="javascript_required.html" onclick="reload(this);return false;">2019</a>
    <a id='2018' href="javascript_required.html" onclick="reload(this);return false;">2018</a>
    <a id='2017' href="javascript_required.html" onclick="reload(this);return false;">2017</a>
    <a id='2016' href="javascript_required.html" onclick="reload(this);return false;">2016</a>
    <a id='2015' href="javascript_required.html" onclick="reload(this);return false;">2015</a>
    <a id='2014' href="javascript_required.html" onclick="reload(this);return false;">2014</a>
    <a id='2013' href="javascript_required.html" onclick="reload(this);return false;">2013</a>
    <!--<li class="search-container">-->
    <div class="search-container">

      <input type="text" placeholder="Search.." id="search">
      <div class="button-container">
        <button type="button" onclick="search()" id="search-button"><i class="fa fa-search"></i></button>
        <button type="button" onclick="reset()"><i class="fa fa-refresh"></i></button>
      </div>
    </div>
  </div>

  <div class="content">
  <div class="header">
    <h1>Robinson Research Institute News & Media</h1>
  </div>

  <div id="controlButtons">

    <div id="socialButtons">
      <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
    <script type="IN/Share" data-url="https://robinson.ac.nz/newsmedia"></script>
    
    <div class="fb-share-button" data-href="https://robinson.ac.nz/newsmedia/" data-layout="button" data-size="small"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Frobinson.ac.nz%2Fnewsmedia%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Share</a></div>
    <span><a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-url="https://robinson.ac.nz/newsmedia/" data-show-count="false">Tweet</a></span>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
  

  <div id="badgeControl">
    <span>Dark</span>
    <label class="switch">
      <input type="checkbox" id="darkSwitch" onclick="toggle()">
      <span class="slider round"></span>
    </label>

  </div>
  </div>

  <div class="row">
    <div class="leftcolumn" id="media_list">

    </div>
    <hr />

    <div class="credit texts">Compiled by James Storey </div>
  </div>

    <script>

      function reload(element) {
        url = new URL(window.location);
        url.search = new URLSearchParams({
          year: element.innerHTML
        });
        url.hash = "";
        history.pushState('', document.title, url);
        includeHTML(document.getElementById(element.innerHTML), 'media_' + element.innerHTML + '.html');
        console.log("Reload");
      }

      window.addEventListener('popstate', function (e) {
        console.log("popstate");
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('year')) {
          includeHTML(document.getElementById(urlParams.get('year')), 'media_' + urlParams.get('year') + '.html');
        }
      })

      function includeHTML(element, file) {

        var current = document.getElementsByClassName("active");
        // If there's no active class
        if (current.length > 0) {
          current[0].className = current[0].className = "";
        }
        var z, xhttp;
        element.className = 'active';
        /*loop through a collection of all HTML elements:*/


        z = document.getElementById("media_list");

        if (file) {
          /*make an HTTP request using the attribute value as the file name:*/
          xhttp = new XMLHttpRequest();
          
          xhttp.onreadystatechange = function () {
            if (this.readyState == 4) {
              if (this.status == 200) {

                z.innerHTML = this.responseText;

                //showSlides(1);
                //showSlides(1, 0);
                //showSlides(1, 1);
                //console.log(this.responseText);
                let cards = document.getElementsByClassName("card");
                
                //console.log(cards);
                
                for(let c = 0; c<cards.length; c++){
                  if(cards[c].children[0].tagName=="A")
                    cards[c].innerHTML+="<button title='Copy link' class='copybutton'></button>";
                }
                
                initSlides();
                linkButtons();
                readMoreButtons();
                
                //causes a loop in chrome
                /*if (location.hash) self.location.href = location.hash;*/ 
                
                //kind of works
                console.log(location.hash.substring(1));
                if(location.hash) {
                  let anchor = document.getElementById(location.hash.substring(1));
                  if(anchor) anchor.scrollIntoView(true);
                } 
               
               
                

              
                
              }
              if (this.status == 404) { z.innerHTML = "Page not found."; }

            }
          }
          xhttp.open("GET", file, true);
          xhttp.send();
          
          /*exit the function:*/
          return;

        }
      };

      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      if (urlParams.has('year')) {
        console.log("year");
        includeHTML(document.getElementById(urlParams.get('year')), 'media_' + urlParams.get('year') + '.html');
      } else {
        console.log("active");
        const active = document.getElementsByClassName('active')[0].innerHTML;
        const url = new URL(window.location);

        url.search = new URLSearchParams({
          year: active
        });

        history.pushState('', document.title, url);
        includeHTML(document.getElementById(active), "media_" + active + ".html");
      }




    </script>

    <script>
      //Get the button:
      mybutton = document.getElementById("myBtn");

      // When the user scrolls down 20px from the top of the document, show the button
      window.onscroll = function () { scrollFunction() };

      function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
          mybutton.style.display = "block";
        } else {
          mybutton.style.display = "none";
        }
      }

      // When the user clicks on the button, scroll to the top of the document
      function topFunction() {
        //document.body.scrollTop = 0; // For Safari
        //document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        window.scrollTo({
          top: 0,
          left: 0,
          behavior: 'smooth'
        });
            }

      function linkButtons(){
      const buttons = document.getElementsByClassName('copybutton')
      //console.log(buttons);
      for (let i = 0; i < buttons.length; i++) {
        buttons[i].onclick = (e) => {
          //console.log(e.target.parentNode.parentNode);
          const address = window.location.href.split("#")[0];
          //const anchor=e.target.parentNode.parentNode.getElementsByTagName("A")[0].id; //need to call parentNode twice when using link font symbol
          const anchor = e.target.closest('button').parentNode.getElementsByTagName("A")[0].id;
          //console.log(anchor);
          console.log(address + "#" + anchor);
          navigator.clipboard.writeText(address + "#" + anchor);
          //alert("The following link has been copied to the clipboard\n\n"+address + "#" + anchor);
          // console.log(e.target.parentNode.getElementsByTagName("A")[0].id);
        }
      }
    }

      /*
      function copyLink(e){
        console.log(e.parentNode);
          const anchor="#"+e.target.parentNode.getElementsByTagName("A")[0].id;
          const address=window.location.href.split("#")[0];
          console.log(address+anchor);
      }
      */

      function toggle() {
        document.body.classList.toggle('dark');

        // Let's say the theme is equal to light
        let theme = "light";
        // If the body contains the .dark-theme class...
        if (document.body.classList.contains("dark")) {
          // ...then let's make the theme dark
          theme = "dark";
        }
        // Then save the choice in localStorage
        localStorage.setItem("theme", theme);

      }


      // Select the theme preference from localStorage
      const currentTheme = localStorage.getItem("theme");
      document.getElementById("darkSwitch").checked = false;
      // If the current theme in localStorage is "dark"...
      if (currentTheme == "dark") {
        // ...then use the .dark-theme class
        document.body.classList.add("dark");
        document.getElementById("darkSwitch").checked = true;
      }


      // Get the input field
      var input = document.getElementById("search");

      // Execute a function when the user releases a key on the keyboard
      input.addEventListener("keyup", function (event) {
        // Number 13 is the "Enter" key on the keyboard
        if (event.keyCode === 13) {
          // Cancel the default action, if needed
          event.preventDefault();
          // Trigger the button element with a click
          document.getElementById("search-button").click();
        }
      });

      function search() {
        let term = document.getElementById('search').value.toLowerCase();
        let divs = document.getElementsByClassName("card");

        for (let x = 0; x < divs.length; x++) {
          let div = divs[x];

          let content = div.innerHTML.trim().toLowerCase();


          if (content.indexOf(term) == -1) {
            div.style.display = 'none';

          }
          else {
            div.style.display = 'block';

          }
        }
      }

      function search2() {
        let term = document.getElementById('search').value.toLowerCase();
        let divs = document.getElementsByTagName("iframe");

        for (let x = 0; x < divs.length; x++) {
          let div = divs[x];
          console.log(div.contentDocument.getElementsByTagName("div"));
          let content = div.innerHTML.trim().toLowerCase();


          if (content.indexOf(term) == -1) {
            div.style.display = 'none';

          }
          else {
            div.style.display = 'block';

          }
        }
      }

      function reset() {
        document.getElementById('search').value = "";
        let divs = document.getElementsByClassName("card");
        for (let x = 0; x < divs.length; x++) {
          let div = divs[x];
          div.style.display = 'block';
        }
      }

      function readMoreButtons(){
       var coll = document.getElementsByClassName("collapsible");
        var i;

        for (i = 0; i < coll.length; i++) {
          coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.maxHeight){
              content.style.maxHeight = null;
            } else {
              content.style.maxHeight = content.scrollHeight + "px";
            } 
          });
        }
      }      

    </script>
    
</body>

</html>
